"use strict";(self.webpackChunktms_frontend=self.webpackChunktms_frontend||[]).push([[4271],{22587:(e,t,s)=>{s.d(t,{Z:()=>d});s(72791);var a=s(5289),r=s(65661),l=s(39157),c=s(20890),n=s(97123),o=s(94294),i=s(80184);const d=e=>{let{title:t,cancelDelete:s,confirmDelete:d}=e;return(0,i.jsxs)(a.Z,{open:!0,onClose:s,children:[(0,i.jsx)(r.Z,{children:t}),(0,i.jsx)(l.Z,{children:(0,i.jsx)(c.Z,{variant:"body1",children:"Are you sure you want to delete this item?"})}),(0,i.jsxs)(n.Z,{children:[(0,i.jsx)(o.Z,{onClick:s,color:"primary",children:"Cancel"}),(0,i.jsx)(o.Z,{onClick:d,color:"secondary",children:"Delete"})]})]})}},6526:(e,t,s)=>{s.d(t,{Z:()=>c});var a=s(16871),r=(s(72791),s(56355)),l=s(80184);const c=e=>{let{setBatchListPop:t}=e;const s=(0,a.s0)();return(0,l.jsxs)("button",{className:"bg-sky-600 h-[25px] w-[102px] m-[10px] px-5 font-[22px] rounded",onClick:()=>{s("/program")},children:[(0,l.jsx)(r.x_l,{className:"inline-block mr-2"})," Back"]})}},24271:(e,t,s)=>{s.d(t,{Z:()=>A});var a=s(72791),r=s(56355),l=s(14651),c=s(29655),n=s(54261),o=s(38487),i=s(85880),d=s(26518),m=s(80184);const x=function(e){let{setCsv:t,setButtonR:s}=e;const[r,l]=(0,a.useState)("Select a file...");return(0,m.jsx)("div",{className:"flex flex-col space-y-3",children:(0,m.jsxs)("span",{htmlFor:"files",className:"relative flex w-full items-center bg-gray-200 rounded-md cursor-pointer ",children:[(0,m.jsx)("input",{id:"files",name:"files",className:"absolute w-full opacity-0",type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",onChange:e=>{e.target.files.length&&(l(e.target.files[0].name),(0,d.Z)(e.target.files[0]).then((e=>{e.shift();let s=[];e.forEach(((e,t)=>{let a={firstName:e[0],lastName:e[1],email:e[2],employeeId:e[3],mobileNo:e[4],city:e[5],managerName:e[6],managerEmail:e[7],function:e[8],role:e[9],zone:e[10],product:e[11]};s.push(a)})),console.log("tutorials",JSON.stringify(s)),t(s)})))}}),(0,m.jsx)("span",{className:"flex rounded-l-lg py-3 text-sm px-5 h-full bg-sky-500 text-white w-fit",children:"Choose Your File"}),(0,m.jsx)("p",{className:"text-sm font-medium  px-6 text-gray-700",children:r})]})})};var h=s(72426),u=s.n(h),p=s(58241);const g=function(e){let{programId:t,nominees:s,setShowPopup:a,programDetails:r,setSelectedNominees:l,fetchNomineesList:n}=e;console.log(s);const{userData:o}=(0,p.aC)();return(0,m.jsx)("div",{className:"flex flex-col w-full justify-center  ",children:(0,m.jsx)("div",{className:"relative py-5 w-full  px-1 ",children:(0,m.jsx)("div",{className:"relative px-4 py-10  rounded-md  bg-white ",children:(0,m.jsxs)("div",{className:"w-full mx-auto",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,m.jsx)("div",{className:"h-14 w-14 bg-sky-500 rounded-full flex flex-shrink-0 justify-center items-center text-white text-2xl font-semibold",children:(0,m.jsx)(i.UCm,{})}),(0,m.jsxs)("div",{className:"block pl-2 font-semibold text-xl self-start text-gray-700",children:[(0,m.jsx)("h2",{className:"leading-relaxed",children:"Create a Batch"}),(0,m.jsx)("p",{className:"text-sm text-gray-500 font-normal leading-relaxed",children:"Enter the Batch details to display it in Batch List."})]})]}),(0,m.jsxs)("form",{id:"addpath",method:"POST",onSubmit:async e=>{e.preventDefault();var r={};Array.from(e.currentTarget.elements).forEach((e=>{e.name&&(r[e.name]=e.value)})),t&&(r.programId=t),s&&(r.file=JSON.stringify(s));let i=new URLSearchParams(Object.entries(r)).toString();const d=await fetch("".concat("http://localhost:8000","/api/batches/add?access_token=").concat(null===o||void 0===o?void 0:o.accessToken),{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:i});await d.json();c.Am.success("Batch created successfully!"),a(!1),n(),l([]),e.target.reset()},className:"divide-y divide-gray-200",children:[(0,m.jsx)("div",{className:"flex flex-col w-full justify-between py-8 text-base leading-6 space-x-4 text-gray-700 sm:text-lg sm:leading-7",children:(0,m.jsxs)("div",{className:"flex flex-col w-full space-y-1",children:[(0,m.jsx)("label",{className:"leading-loose",children:"Batch Name*"}),(0,m.jsx)("input",{type:"text",name:"name",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Batch Name",required:!0}),"2"==r.trainingType?(0,m.jsx)(m.Fragment,{}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("label",{className:"leading-loose",children:"Location*"}),(0,m.jsx)("input",{type:"text",name:"location",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Location",required:!0})]}),(0,m.jsx)("label",{className:"leading-loose",children:"Batch Start Date *"}),(0,m.jsx)("input",{type:"date",name:"batchStartDate",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Batch Start Date",required:!0}),(0,m.jsx)("label",{className:"leading-loose",children:"Batch Start Time *"}),(0,m.jsx)("input",{type:"time",name:"batchStartTime",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Batch Start time",required:!0}),(0,m.jsx)("label",{className:"leading-loose",children:"Batch End Date*"}),(0,m.jsx)("input",{type:"date",name:"batchEndDate",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Batch End Date",required:!0}),(0,m.jsx)("label",{className:"leading-loose",children:"Batch End Time *"}),(0,m.jsx)("input",{type:"time",name:"batchEndTime",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Batch End Time",required:!0}),(0,m.jsx)("label",{className:"leading-loose",children:"Status*"}),(0,m.jsxs)("select",{name:"status",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[(0,m.jsx)("option",{value:"1",children:"Active"}),(0,m.jsx)("option",{value:"0",children:"In Active"})]})]})}),(0,m.jsx)("div",{className:"py-0 flex items-center  justify-center space-x-4",children:(0,m.jsx)("button",{type:"submit",className:"bg-sky-500 flex justify-center items-center w-full text-white px-4 py-3 rounded-md focus:outline-none",children:"Create Batch"})})]})]})})})})};var f=s(40071),y=s(7692),j=s(78820),b=s(22587);const N=function(e){let{programId:t,programDetails:s}=e;const{userData:r,signOut:l}=(0,p.aC)(),[i,d]=(0,a.useState)(1),[x,h]=(0,a.useState)(30),[u,N]=(0,a.useState)(1),[v,w]=(0,a.useState)([]),[k,S]=(0,a.useState)(""),[T,D]=(0,a.useState)([]),[C,B]=(0,a.useState)(!1),[E,P]=(0,a.useState)(!1),[A,M]=(0,a.useState)(null),[L,Y]=(0,a.useState)(!1),[I,O]=(0,a.useState)([]),q=async()=>{try{const e={pageLimit:x,pageNo:i,search:k},s=encodeURIComponent(JSON.stringify(e)),a=await fetch("".concat("http://localhost:8000","/api/nominees/list/program/").concat(t,"?filter=").concat(s,"&access_token=").concat(null===r||void 0===r?void 0:r.accessToken));if(!a.ok){const e=l&&l.message||a.statusText;return Promise.reject(e)}const l=await a.json();O(l.data.allProgramNominees),w(l.data.allProgramNominees),N(l.data.lastPage)}catch(e){console.error("There was an error!",e),"Token Expired"!==e&&"Malformed User"!==e||l()}};(0,a.useEffect)((()=>{t&&q()}),[t,x,i,k]);const _=e=>{const{name:t}=e.target,s=parseInt(t);D((e=>e.includes(s)?e.filter((e=>e!==s)):[...e,s]))},U=[];return I.forEach((e=>{T.includes(e.nomineeId)&&U.push({firstName:e.firstName,lastName:e.lastName,email:e.email,mobileNo:e.mobileNo})})),console.log(T,"selectedNominees"),(0,m.jsxs)("div",{className:"mx-3",children:[(0,m.jsx)("div",{className:"flex justify-end",children:(0,m.jsx)("span",{style:{marginTop:"-10px",marginBottom:"10px"},className:"text-sm ",children:(0,m.jsx)(y.t5J,{className:"cursor-pointer",onClick:()=>q(),size:20})})}),E?(0,m.jsx)("div",{className:"fixed z-30  w-full h-screen top-0 left-0 items-center   bg-gray-800/40",children:(0,m.jsx)("div",{className:"flex w-full items-start mt-10 justify-center ",children:(0,m.jsxs)("div",{className:"relative mx-20 flex flex-col  w-1/2 items-center justify-center bg-white rounded-lg shadow-md px-8 py-2",children:[(0,m.jsx)("div",{className:"absolute z-30 bg-white flex w-full justify-end items-end top-0  p-4 "}),(0,m.jsx)("div",{id:"journal-scroll",className:"w-full max-h-[32rem] h-fit overflow-y-auto mt-8",children:(0,m.jsx)(b.Z,{title:A.title,cancelDelete:()=>P(!1),confirmDelete:()=>(async()=>{try{const e=await fetch("".concat("http://localhost:8000","/api/nominees/deleteNominee/").concat(A.id,"?access_token=").concat(null===r||void 0===r?void 0:r.accessToken),{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"DELETE"}),t=await e.json();if(console.log(t),!e.ok)throw t&&t.message||e.statusText;"failure"===t.status?c.Am.error(null===t||void 0===t?void 0:t.msg):(c.Am.success(t.msg),M(null),P(!1),q())}catch(e){console.log(e)}})(A.id)})})]})})}):null,C?(0,m.jsx)("div",{className:"fixed z-30  w-full h-screen top-0 left-0 items-center   bg-gray-800/40",children:(0,m.jsx)("div",{className:"flex w-full items-start mt-20 justify-center   h-screen",children:(0,m.jsxs)("div",{className:"relative mx-20 flex flex-col  w-1/2 items-center justify-center bg-white rounded-lg shadow-md px-8 py-2",children:[(0,m.jsx)("div",{className:"absolute z-30 bg-white flex w-full justify-end items-end top-0  p-4 ",children:(0,m.jsx)(f.bjh,{onClick:()=>B(!1),className:"cursor-pointer text-xl font-semibold text-black "})}),(0,m.jsx)("div",{id:"journal-scroll",className:"w-full h-[30rem] overflow-y-auto",children:(0,m.jsx)(g,{programId:t,nominees:U,isPopup:!0,fetchNomineesList:q,setShowPopup:B,setSelectedNominees:D,programDetails:s})})]})})}):null,(0,m.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,m.jsxs)("span",{children:["Total Nominees: ",(null===I||void 0===I?void 0:I.length)||0]}),(0,m.jsx)("div",{className:"flex align-center",children:(0,m.jsxs)("div",{className:"relative mt-1",children:[(0,m.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none py-2 ",children:(0,m.jsx)("svg",{className:"w-5 h-5 text-gray-500 ",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),(0,m.jsx)("input",{type:"text",id:"table-search",className:"bg-gray-50 border py-1  border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-80 pl-10 p-2.5  ",placeholder:"Search for nominee",onChange:e=>S(e.target.value)})]})})]}),1===r.userType&&(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,m.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(console.log(v.length),!T.length)return c.Am.error("Please select nominees");var s={};const a=[];I.forEach((e=>{T.includes(e.nomineeId)&&a.push({firstName:e.firstName,lastName:e.lastName,email:e.email,mobileNo:e.mobileNo})})),Array.from(e.currentTarget.elements).forEach((e=>{e.name&&(s[e.name]=e.value)})),a.length&&(s.file=JSON.stringify(a)),console.log(s);const l=new URLSearchParams(Object.entries(s)).toString(),n=await fetch("".concat("http://localhost:8000","/api/nominees/sendMail/").concat(t,"?access_token=").concat(null===r||void 0===r?void 0:r.accessToken),{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:l}),o=await n.json();if(console.log(o),!n.ok){throw o&&o.message||n.statusText}"failure"===o.status?c.Am.error(null===o||void 0===o?void 0:o.msg):(c.Am.success(o.msg),D([])),e.target.reset()}catch(a){console.log(a),console.error("There was an error!",a),"Token Expired"===a&&l()}},className:"flex space-x-2",children:[(0,m.jsxs)("select",{className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-30 sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",name:"type",required:!0,children:[(0,m.jsx)("option",{value:"",children:"Select Template"}),(0,m.jsx)("option",{value:"cancellation",children:"Cancellation"}),(0,m.jsx)("option",{value:"reschedule",children:"Reschedule"})]}),(0,m.jsx)("button",{className:"bg-green-500 hover:bg-green-700 text-sm text-white font-bold py-2 px-3 rounded",children:"Send"})]}),(0,m.jsxs)("div",{children:[T.length?(0,m.jsxs)("span",{className:"mr-4",children:["Selected Nominees: ",T.length]}):null,(0,m.jsx)("button",{className:"px-2 py-2 mr-2 text-sm bg-green-500 text-white rounded-md",onClick:()=>(()=>{if(0===T.length)return c.Am.error("Please select nominees.");const e=[["First Name","Last Name","Email","Manager Name","Manager Email"]];I.forEach((t=>{T.includes(t.nomineeId)&&e.push([t.firstName,t.lastName,t.email,t.managerName,t.managerEmail])})),o.Z.exportAoaToXlsx(e,s.programName)})(),children:"Export"}),T.length>0&&(0,m.jsx)("button",{onClick:()=>B(!0),className:"px-2 py-2 text-sm bg-green-500 text-white rounded-md",children:"Create Batch"})]})]})}),(0,m.jsx)("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg mt-3",children:(0,m.jsxs)("table",{className:"w-full text-sm text-left text-gray-500 ",children:[(0,m.jsx)("thead",{className:"text-md m-4 bg-sky-600 text-white   ",children:(0,m.jsxs)("tr",{children:[1===r.userType&&(0,m.jsx)("th",{scope:"col",className:"px-6 py-3",children:(0,m.jsx)("input",{type:"checkbox",onChange:e=>{const t=e.target.checked;if(t){const e=[];I.forEach((t=>{T.includes(t.nomineeId)||e.push(t.nomineeId)})),D((t=>[...t,...e]))}else D([]);Y(t)},className:"form-checkbox h-4 w-4 text-blue-600",checked:L})}),(0,m.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Sr no."}),(0,m.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Name"}),(0,m.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Email"}),(0,m.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Supervisor Name"}),(0,m.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Supervisor Email"}),(0,m.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Batch Assigned"}),(0,m.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Actions"})]})}),v.map(((e,t)=>(0,m.jsx)("tbody",{children:(0,m.jsxs)("tr",{className:"bg-white border-b",children:[1===r.userType&&(0,m.jsx)("td",{className:"px-6 py-4 text-gray-900",children:(0,m.jsx)("input",{type:"checkbox",name:e.nomineeId,checked:T.includes(e.nomineeId),onChange:_})}),(0,m.jsx)("td",{className:"px-6 py-4 text-gray-900",children:t+1}),(0,m.jsxs)("th",{scope:"row",className:"flex flex-row items-center px-6 py-4 font-medium text-gray-900  w-44",children:[e.firstName," ",e.lastName]}),(0,m.jsx)("td",{className:"px-6 py-4 text-gray-900",children:e.email}),(0,m.jsx)("td",{className:"px-6 py-4 text-gray-900",children:e.managerName}),(0,m.jsx)("td",{className:"px-6 py-4 text-gray-900",children:e.managerEmail}),(0,m.jsx)("td",{className:"px-6 py-4 text-gray-900",children:e.batch?e.batch.name:"-"}),(0,m.jsx)("div",{className:"text-red-700 flex justify-center items-center hover:underline cursor-pointer",onClick:()=>{P(!0),M({title:"".concat(e.firstName," ").concat(e.lastName),id:e.nomineeId})},children:(0,m.jsx)(j.VPh,{color:"red",size:20})})]})},(0,n.Z)())))]})}),(0,m.jsxs)("div",{className:"flex flex-row justify-around mt-10 items-center  ",children:[(0,m.jsx)("span",{className:"text-sm flex text-gray-700 "}),(0,m.jsx)("div",{className:"flex",children:(0,m.jsxs)("div",{className:"dropdown flex items-center relative",children:[(0,m.jsx)("p",{children:"Show"}),(0,m.jsx)("span",{className:"bg-gray-100 text-gray-700 mx-2  font-normal tracking-wide rounded inline-flex items-center",children:(0,m.jsxs)("select",{className:"bg-transparent px-3 py-2  outline-none ",value:x,onChange:e=>{h(e.target.value),d(1)},children:[(0,m.jsx)("option",{className:"mr-1",children:"5"}),(0,m.jsx)("option",{className:"mr-1",children:"10"}),(0,m.jsx)("option",{className:"mr-1",children:"20"}),(0,m.jsx)("option",{className:"mr-1",children:"30"}),(0,m.jsx)("option",{className:"mr-1",children:"40"}),(0,m.jsx)("option",{className:"mr-1",children:"50"}),(0,m.jsx)("option",{className:"mr-1",children:"100"}),(0,m.jsx)("option",{className:"mr-1",children:"250"}),(0,m.jsx)("option",{className:"mr-1",children:"500"})]})}),(0,m.jsx)("p",{children:"Entries"})]})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("a",{onClick:()=>{i<=1||d(i-1)},className:" ".concat(1===i?"hidden":"inline-flex items-center py-2 px-4 ml-3 text-sm font-medium text-gray-700 bg-gray-200 cursor-pointer rounded-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700   "),children:"Previous"}),(0,m.jsx)("a",{onClick:()=>{i>=u||d(i+1)},className:" ".concat(i>=u?"hidden":"inline-flex items-center py-2 px-4 ml-3 text-sm font-medium text-gray-700 cursor-pointer bg-gray-200 rounded-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700   "),children:"Next"})]})]})]})};var v=s(43504);const w=e=>{let{programDetails:t}=e;const{userData:s}=(0,p.aC)();return console.log("Program Details:"+s.userType),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"flex justify-end",children:1===s.userType&&(0,m.jsx)(v.rU,{to:{pathname:"UpdateProgram/".concat(t.id)},children:(0,m.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Edit"})})}),(0,m.jsxs)("div",{style:{color:"#4b5563"},className:"flex flex-col text-base font-medium",children:[(0,m.jsxs)("div",{className:"flex mb-2",children:[(0,m.jsx)("div",{className:"w-1/3 pr-2 ",children:"Client Name"}),(0,m.jsxs)("div",{className:"w-2/3 ",children:[" ",t.clientName]})]}),(0,m.jsxs)("div",{className:"flex mb-2",children:[(0,m.jsx)("div",{className:"w-1/3 pr-2",children:"Program Name"}),(0,m.jsxs)("div",{className:"w-2/3",children:[" ",t.programName]})]}),(0,m.jsxs)("div",{className:"flex mb-2",children:[(0,m.jsx)("div",{className:"w-1/3 pr-2",children:"Program Start Date/Time"}),(0,m.jsx)("div",{className:"w-2/3",children:u()("".concat(u()(t.programStartDate).format("YYYY-MM-DD")," ").concat(t.programStartTime)).format("Do MMMM YYYY hh:mm a")})]}),(0,m.jsxs)("div",{className:"flex mb-2",children:[(0,m.jsx)("div",{className:"w-1/3 pr-2",children:"Program End Date/Time"}),(0,m.jsx)("div",{className:"w-2/3",children:u()("".concat(u()(t.programEndDate).format("YYYY-MM-DD")," ").concat(t.programEndTime)).format("Do MMMM YYYY hh:mm a")})]}),(0,m.jsxs)("div",{className:"flex mb-2",children:[(0,m.jsx)("div",{className:"w-1/3 pr-2",children:"Program Type"}),1==t.programType?"Open":null,0==t.programType?"Close":null]}),"1"==t.programType?(0,m.jsxs)("div",{className:"flex mb-2",children:[(0,m.jsx)("div",{className:"w-1/3 pr-2",children:"Nomination End Date/Time"}),(0,m.jsx)("div",{className:"w-2/3",children:u()("".concat(u()(t.nominationDate).format("YYYY-MM-DD")," ").concat(t.nominationTime)).format("Do MMMM YYYY hh:mm a")})]}):null,(0,m.jsxs)("div",{className:"flex mb-2",children:[(0,m.jsx)("div",{className:"w-1/3 pr-2",children:"Training Mode"}),1===t.trainingType?"Class room training":null,2===t.trainingType?"Virtual training":null]}),1===t.trainingType?(0,m.jsxs)("div",{className:"flex mb-2",children:[(0,m.jsx)("div",{className:"w-1/3 pr-2",children:"Location"}),t.location]}):null]}),1===s.userType?(0,m.jsx)(m.Fragment,{children:"1"==t.programType?(0,m.jsxs)("div",{style:{color:"#4b5563"},className:"flex",children:[(0,m.jsx)("div",{className:"w-1/3 pr-2 font-medium",children:"Registration Link"}),(0,m.jsx)("div",{className:"w-1/3",children:(0,m.jsx)("a",{href:"/nominee-form/".concat(t.id),target:"_blank",rel:"noreferrer",children:"".concat("http://localhost:8000","/nominee-form/").concat(t.id)})})]}):null}):null]})},k=e=>{let{programId:t,programDetails:s}=e;const[r,l]=(0,a.useState)([]),{userData:n,signOut:o}=(0,p.aC)();return(0,m.jsx)("div",{children:(0,m.jsx)("form",{onSubmit:async e=>{e.preventDefault();var s={};Array.from(e.currentTarget.elements).forEach((e=>{e.name&&(s[e.name]=e.value)})),t&&(s.programId=t),r&&(s.file=JSON.stringify(r)),console.log(r);let a=new URLSearchParams(Object.entries(s)).toString();const l=await fetch("".concat("http://localhost:8000","/api/batches/add?access_token=").concat(null===n||void 0===n?void 0:n.accessToken),{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:a});await l.json();c.Am.success("Batch created successfully!"),e.target.reset()},children:(0,m.jsxs)("div",{className:"flex flex-col mt-3 justify-center",children:[(0,m.jsxs)("div",{className:"flex flex-wrap",children:[(0,m.jsxs)("div",{className:"w-1/2 px-2",children:[(0,m.jsx)("label",{className:"leading-loose",children:"Batch Name*"}),(0,m.jsx)("input",{type:"text",name:"name",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Batch Name",required:!0})]}),"1"==s.trainingType?(0,m.jsxs)("div",{className:"w-1/2 px-2",children:[(0,m.jsx)("label",{className:"leading-loose",children:"Location*"}),(0,m.jsx)("input",{type:"text",name:"location",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Location",required:!0})]}):null,(0,m.jsxs)("div",{className:"w-1/2 px-2",children:[(0,m.jsx)("label",{className:"leading-loose",children:"Batch Start Date*"}),(0,m.jsx)("input",{type:"date",name:"batchStartDate",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",required:!0})]}),(0,m.jsxs)("div",{className:"w-1/2 px-2",children:[(0,m.jsx)("label",{className:"leading-loose",children:"Batch Start Time*"}),(0,m.jsx)("input",{type:"time",name:"batchStartTime",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",required:!0})]}),(0,m.jsxs)("div",{className:"w-1/2 px-2",children:[(0,m.jsx)("label",{className:"leading-loose",children:"Batch End Date*"}),(0,m.jsx)("input",{type:"date",name:"batchEndDate",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",required:!0})]}),(0,m.jsxs)("div",{className:"w-1/2 px-2",children:[(0,m.jsx)("label",{className:"leading-loose",children:"Batch End Time*"}),(0,m.jsx)("input",{type:"time",name:"batchEndTime",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",required:!0})]})]}),(0,m.jsxs)("div",{className:"w-full px-2",children:[(0,m.jsx)("label",{className:"leading-loose",children:"Status*"}),(0,m.jsxs)("select",{placeholder:"Select status",name:"status",required:!0,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[(0,m.jsx)("option",{value:"1",children:"Active"}),(0,m.jsx)("option",{value:"0",children:"In Active"})]})]}),(0,m.jsxs)("div",{className:"w-full px-2",children:[(0,m.jsx)("label",{className:"leading-loose",children:"Excel File*"}),(0,m.jsx)(x,{setCsv:l})]}),(0,m.jsx)("button",{className:"flex w-fit mt-5 px-6 py-3 text-white text-sm font-medium bg-green-500 items-center rounded-md",type:"submit",children:"Create Batch"})]})})})};var S=s(39126);const T=function(e){var t;let{batchId:s,setShowPopup:r,fetchBatchList:l,programDetails:n}=e;const[o,d]=(0,a.useState)({}),{userData:x,signOut:h}=(0,p.aC)();return(0,a.useEffect)((()=>{(async()=>{try{const e=await fetch("".concat("http://localhost:8000","/api/batches/batchDetails/").concat(s,"?access_token=").concat(null===x||void 0===x?void 0:x.accessToken)),t=await e.json();if(console.log(t.data+"fetchBatch"),d(t.data),!e.ok){const s=t&&t.message||e.statusText;return Promise.reject(s)}}catch(e){console.error("There was an error!",e),"Token Expired"===e&&h()}})()}),[]),(0,m.jsx)("div",{className:"flex flex-col w-full justify-center  ",children:(0,m.jsx)("div",{className:"relative py-5 w-full  px-1 ",children:(0,m.jsx)("div",{className:"relative px-4 py-10  rounded-md  bg-white ",children:(0,m.jsxs)("div",{className:"w-full mx-auto",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,m.jsx)("div",{className:"h-14 w-14 bg-sky-500 rounded-full flex flex-shrink-0 justify-center items-center text-white text-2xl font-semibold",children:(0,m.jsx)(i.UCm,{})}),(0,m.jsxs)("div",{className:"block pl-2 font-semibold text-xl self-start text-gray-700",children:[(0,m.jsx)("h2",{className:"leading-relaxed",children:"Update Batch"}),(0,m.jsx)("p",{className:"text-sm text-gray-500 font-normal leading-relaxed",children:"Enter new batch details."})]})]}),(0,m.jsxs)("form",{id:"addpath",method:"POST",onSubmit:async e=>{e.preventDefault();var t={};Array.from(e.currentTarget.elements).forEach((e=>{e.name&&(t[e.name]=e.value)}));let a=new URLSearchParams(Object.entries(t)).toString();const n=await fetch("".concat("http://localhost:8000","/api/batches/edit/").concat(s,"?access_token=").concat(null===x||void 0===x?void 0:x.accessToken),{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:a});await n.json();c.Am.success("Batch updated successfully!"),r(!1),l()},className:"divide-y divide-gray-200",children:[(0,m.jsx)("div",{className:"flex flex-col w-full justify-between py-8 text-base leading-6 space-x-4 text-gray-700 sm:text-lg sm:leading-7",children:(0,m.jsxs)("div",{className:"flex flex-col w-full space-y-1",children:[(0,m.jsx)("label",{className:"leading-loose",children:"Batch Name*"}),(0,m.jsx)("input",{type:"text",name:"name",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Batch Name",defaultValue:o.name,required:!0}),"1"==(null===o||void 0===o||null===(t=o.program)||void 0===t?void 0:t.trainingType)?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("label",{className:"leading-loose",children:"Location*"}),(0,m.jsx)("input",{type:"text",name:"location",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Location",defaultValue:o.location,required:!0})]}):null,(0,m.jsx)("label",{className:"leading-loose",children:"Status*"}),(0,m.jsxs)("select",{placeholder:"Select status",name:"status",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[(0,m.jsx)("option",{value:"1",selected:1==o.status,children:"Active"}),(0,m.jsx)("option",{value:"0",selected:0==o.status,children:"In Active"})]}),(0,m.jsx)("label",{className:"leading-loose",children:"Batch Start Date*"}),(0,m.jsx)("input",{type:"date",name:"batchStartDate",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Batch start date",defaultValue:o.batchStartDate?u()(o.batchStartDate).format("YYYY-MM-DD"):"",required:!0}),(0,m.jsx)("label",{className:"leading-loose",children:"Batch Start Time*"}),(0,m.jsx)("input",{type:"time",name:"batchStartTime",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Batch start time",defaultValue:o.batchStartTime,required:!0}),(0,m.jsx)("label",{className:"leading-loose",children:"Batch End Date*"}),(0,m.jsx)("input",{type:"date",name:"batchEndDate",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Batch End Date",defaultValue:o.batchEndDate?u()(o.batchEndDate).format("YYYY-MM-DD"):"",required:!0}),(0,m.jsx)("label",{className:"leading-loose",children:"Batch End Time*"}),(0,m.jsx)("input",{type:"time",name:"batchEndTime",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Batch start time",defaultValue:o.batchEndTime,required:!0})]})}),(0,m.jsx)("div",{className:"py-0 flex items-center  justify-center space-x-4",children:(0,m.jsx)("button",{type:"submit",className:"bg-sky-500 flex justify-center items-center w-full text-white px-4 py-3 rounded-md focus:outline-none",children:"Update"})})]})]})})})})};const D=function(e){let{programId:t,programDetails:s}=e;const[r,l]=(0,a.useState)({title:"",id:""}),{userData:o,signOut:i}=(0,p.aC)(),[d,x]=(0,a.useState)(1),[h,g]=(0,a.useState)(5),[N,w]=(0,a.useState)(1),[k,S]=(0,a.useState)([]),[D,C]=(0,a.useState)(""),[B,E]=(0,a.useState)(!1),[P,A]=(0,a.useState)(0),[M,L]=(0,a.useState)(""),[Y,I]=(0,a.useState)(!1),O=async()=>{try{const e={pageLimit:h,pageNo:d,search:D},s=encodeURIComponent(JSON.stringify(e)),a=await fetch("".concat("http://localhost:8000","/api/batches/list/").concat(t,"?filter=").concat(s,"&access_token=").concat(null===o||void 0===o?void 0:o.accessToken));if(!a.ok){const e=r&&r.message||a.statusText;return Promise.reject(e)}const r=await a.json();S(r.data)}catch(e){console.error("There was an error!",e),"Token Expired"!==e&&"Malformed User"!==e||i()}};return(0,a.useEffect)((()=>{t&&O()}),[t]),(0,m.jsxs)("div",{className:"mx-3 ",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-2 justify-end",children:[(0,m.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),console.log(M);try{if("1"==M){const e=await fetch("".concat("http://localhost:8000","/api/programs/sendMangerMail?access_token=").concat(null===o||void 0===o?void 0:o.accessToken,"&programId=").concat(t)),s=await e.json();return"success"==s.status?(L(""),c.Am.success(s.msg)):c.Am.error(s.msg)}if("2"==M){const e=await fetch("".concat("http://localhost:8000","/api/programs/sendManagerReminderMail?access_token=").concat(null===o||void 0===o?void 0:o.accessToken,"&programId=").concat(t,"&programDate=").concat(s.programStartDate)),a=await e.json();return"success"==a.status?(L(""),c.Am.success(a.msg)):c.Am.error(a.msg)}}catch(a){console.log(a)}},className:"flex items-center space-x-2 justify-end",children:[(0,m.jsxs)("select",{value:M,className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900  sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",required:!0,onChange:e=>L(e.target.value),children:[(0,m.jsx)("option",{value:"",children:"Select Manager mail"}),(0,m.jsx)("option",{value:"1",children:"Manager invitation mail"}),(0,m.jsx)("option",{value:"2",children:"Manager reminder mail"})]}),(0,m.jsx)("button",{className:"bg-green-500 hover:bg-green-700 text-sm text-white font-bold py-2 px-3 rounded",type:"submit",children:"Send"})]}),(0,m.jsx)("span",{className:"text-sm",children:(0,m.jsx)(y.t5J,{className:"cursor-pointer",onClick:()=>O(),size:20})})]}),Y?(0,m.jsx)("div",{className:"fixed z-30  w-full h-screen top-0 left-0 items-center   bg-gray-800/40",children:(0,m.jsx)("div",{className:"flex w-full items-start mt-10 justify-center ",children:(0,m.jsxs)("div",{className:"relative mx-20 flex flex-col  w-1/2 items-center justify-center bg-white rounded-lg shadow-md px-8 py-2",children:[(0,m.jsx)("div",{className:"absolute z-30 bg-white flex w-full justify-end items-end top-0  p-4 "}),(0,m.jsx)("div",{id:"journal-scroll",className:"w-full max-h-[32rem] h-fit overflow-y-auto mt-8",children:(0,m.jsx)(b.Z,{title:r.title,cancelDelete:()=>I(!0),confirmDelete:()=>(async()=>{try{const e=await fetch("".concat("http://localhost:8000","/api/batches/deleteBatch/").concat(r.id,"?access_token=").concat(o.accessToken),{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"Delete"}),t=await e.json();if(!e.ok)throw t&&t.message||e.statusText;400===t.code?c.Am.error(t.msg):(c.Am.success(t.msg),O(),I(!1))}catch(e){console.error("There was an error!",e),"Token Expired"!==e&&"Malformed User"!==e||i()}})(r.id)})})]})})}):null,B?(0,m.jsx)("div",{className:"fixed z-30  w-full h-screen top-0 left-0 items-center   bg-gray-800/40",children:(0,m.jsx)("div",{className:"flex w-full items-start mt-20 justify-center   h-screen",children:(0,m.jsxs)("div",{className:"relative mx-20 flex flex-col  w-1/2 items-center justify-center bg-white rounded-lg shadow-md px-8 py-2",children:[(0,m.jsx)("div",{className:"absolute z-30 bg-white flex w-full justify-end items-end top-0  p-4 ",children:(0,m.jsx)(f.bjh,{onClick:()=>E(!1),className:"cursor-pointer text-xl font-semibold text-black "})}),(0,m.jsx)("div",{id:"journal-scroll",className:"w-full h-[30rem] overflow-y-auto",children:(0,m.jsx)(T,{batchId:P,isPopup:!0,setShowPopup:E,fetchBatchList:O,programDetails:s})})]})})}):null,(0,m.jsx)("div",{className:"flex flex-row justify-between",children:(0,m.jsx)("h5",{className:" text-md font-medium tracking-wide text-gray-700 lg:text-xl ",children:"Batches"})}),(0,m.jsx)("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg mt-3",children:(0,m.jsxs)("table",{className:"w-full text-sm text-left text-gray-500 ",children:[(0,m.jsx)("thead",{className:"text-md m-4 bg-sky-600 text-white   ",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Sr.No"}),(0,m.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Batch Name"}),(0,m.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Location"}),(0,m.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Start Date time"}),(0,m.jsx)("th",{scope:"col",className:"px-6 py-3",children:"End Date time"}),(0,m.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Status"}),(0,m.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),null===k||void 0===k?void 0:k.map(((e,t)=>(0,m.jsx)("tbody",{children:(0,m.jsxs)("tr",{className:"bg-white border-b  ",children:[(0,m.jsx)("td",{className:"px-6 py-4 text-gray-900",children:t+1}),(0,m.jsx)("th",{scope:"row",className:"px-6 py-4 text-gray-900",children:e.name}),(0,m.jsxs)("td",{className:"px-6 py-4 text-gray-900",children:[" ",e.location?e.location:"-"]}),(0,m.jsxs)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900  whitespace-nowrap",children:[u()(e.batchStartDate).format("Do MMM YYYY")," ",u()(e.batchStartTime,"HH:mm:ss").format("hh:mm a")]}),(0,m.jsxs)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900  whitespace-nowrap",children:[e.batchEndDate?u()(e.batchEndDate).format("Do MMM YYYY"):"-"," ",e.batchEndTime?u()(e.batchEndTime,"HH:mm:ss").format("hh:mm a"):"-"]}),(0,m.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900  whitespace-nowrap",children:"1"==e.status?(0,m.jsx)("span",{className:"bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-300",children:"Active"}):(0,m.jsx)("span",{className:"bg-red-100 text-red-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-300",children:"In Active"})}),(0,m.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900  whitespace-nowrap",children:(0,m.jsxs)("div",{className:"flex items-center",children:[(0,m.jsx)("div",{className:"text-red-700 mr-4 hover:underline cursor-pointer",children:(0,m.jsx)("button",{onClick:()=>{I(!0),l({title:e.name,id:e.batchId})},children:(0,m.jsx)(j.VPh,{size:24,color:"red"})})}),(0,m.jsx)("div",{className:"text-gray-700 mr-4 hover:underline cursor-pointer",children:(0,m.jsx)(v.rU,{to:"/batch/".concat(e.batchId),children:(0,m.jsx)(j.gbC,{size:24})})}),7!==o.userType&&(0,m.jsx)("div",{className:"text-gray-700 mr-4 hover:underline cursor-pointer",children:(0,m.jsx)("button",{onClick:()=>{return t=e.batchId,A(t),void E(!0);var t},children:(0,m.jsx)(j.$iz,{size:24})})})]})})]})},(0,n.Z)())))]})})]})},C=e=>{let{programId:t,programDetails:s}=e;const[r,l]=(0,a.useState)([]),[n,o]=(0,a.useState)([]),{userData:i,signOut:d}=(0,p.aC)();return(0,m.jsx)("div",{children:(0,m.jsx)("form",{onSubmit:async e=>{e.preventDefault();var s={};Array.from(e.currentTarget.elements).forEach((e=>{e.name&&(s[e.name]=e.value)})),t&&(s.programId=t),r&&(s.file=JSON.stringify(r)),console.log(r);let a=new URLSearchParams(Object.entries(s)).toString();const l=await fetch("".concat("http://localhost:8000","/api/batches/bulkBathCreate?access_token=").concat(null===i||void 0===i?void 0:i.accessToken),{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:a});await l.json();c.Am.success("Batch created successfully!"),e.target.reset()},children:(0,m.jsxs)("div",{className:"flex flex-col mt-3 justify-center",children:[(0,m.jsxs)("div",{className:"flex flex-wrap",children:[(0,m.jsxs)("div",{className:"w-1/2 px-2",children:[(0,m.jsx)("label",{className:"leading-loose",children:"Batch Length"}),(0,m.jsx)("input",{type:"text",name:"length",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Batch Length",required:!0})]}),(0,m.jsxs)("div",{className:"w-1/2 px-2",children:[(0,m.jsx)("label",{className:"leading-loose",children:"Batch Data File"}),(0,m.jsx)(x,{setCsv:o})]})]}),(0,m.jsxs)("div",{className:"w-full px-2",children:[(0,m.jsx)("label",{className:"leading-loose",children:"User File*"}),(0,m.jsx)(x,{setCsv:l})]}),(0,m.jsx)("button",{className:"flex w-fit mt-5 px-6 py-3 text-white text-sm font-medium\r bg-green-500 items-center rounded-md",type:"submit",children:"Create Batch"})]})})})},B=e=>{let{setBatchListPop:t,peoplelist:s,questionList:c,id:n,schedulePop:o,setSchedulePop:i,batchData:d,next:x,previous:h,pgindex:u,page:g,totalCount:f,setRefresher:y,setLimit:j,setPage:b,setSearch:v,getOneBatch:T,templateList:B}=e;const[E,P]=(0,a.useState)(1),{userData:A}=(0,p.aC)();return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"flex flex-wrap",children:(0,m.jsxs)("div",{className:"w-full    rounded",children:[(0,m.jsx)("div",{className:"border-b border-gray-200  mx-5 ",children:(0,m.jsxs)("ul",{className:"flex flex-wrap space-x-3   text-sm font-medium text-center text-gray-500 ",children:[(0,m.jsx)("li",{className:"mr-1 cursor-pointer",children:(0,m.jsxs)("span",{onClick:e=>{e.preventDefault(),P(1)},className:"inline-flex p-3  rounded-t-lg   border-b-2  items-center"+(1===E?" border-sky-600 text-sky-600":"border-transparent text-gray-500"),children:[(0,m.jsx)(S.LSF,{className:"text-xl mr-2"}),"Program Details"]})}),"1"==d.programType?(0,m.jsx)("li",{className:"mr-1 cursor-pointer",children:(0,m.jsxs)("span",{onClick:e=>{e.preventDefault(),P(3)},className:"inline-flex p-3  rounded-t-lg  border-b-2  items-center"+(3===E?" border-sky-600 text-sky-600":"border-transparent text-gray-500"),children:[(0,m.jsx)(r.m3W,{className:"text-xl mr-2"}),"Nominees"]})}):null,1===A.userType&&(0,m.jsx)("li",{className:"mr-1 cursor-pointer",children:(0,m.jsxs)("span",{onClick:e=>{e.preventDefault(),P(4)},className:"inline-flex p-3  rounded-t-lg  border-b-2  items-center"+(4===E?" border-sky-600 text-sky-600":"border-transparent text-gray-500"),children:[(0,m.jsx)(l.xJq,{className:"text-xl mr-2"}),"Batch"]})}),(0,m.jsx)("li",{className:"mr-1 cursor-pointer",children:(0,m.jsxs)("span",{onClick:e=>{e.preventDefault(),P(5)},className:"inline-flex p-3  rounded-t-lg  border-b-2  items-center"+(5===E?" border-sky-600 text-sky-600":"border-transparent text-gray-500"),children:[(0,m.jsx)(r.AeW,{className:"text-xl mr-2"}),"Batch List"]})}),(0,m.jsx)("li",{className:"mr-1 cursor-pointer",children:(0,m.jsxs)("span",{onClick:e=>{e.preventDefault(),P(6)},className:"inline-flex p-3  rounded-t-lg  border-b-2  items-center"+(6===E?" border-sky-600 text-sky-600":"border-transparent text-gray-500"),children:[(0,m.jsx)(r.AeW,{className:"text-xl mr-2"}),"Bulk Batch Create"]})})]})}),(0,m.jsx)("div",{className:"relative flex flex-col min-w-0 break-words ",children:(0,m.jsx)("div",{className:"px-4 py-5 flex-auto h-fit",children:(0,m.jsxs)("div",{className:"tab-content tab-space",children:[(0,m.jsx)("div",{className:1===E?"block ":"hidden",id:"link1",children:(0,m.jsx)(w,{programDetails:d})}),"1"==d.programType?(0,m.jsx)("div",{className:3===E?"block":"hidden",id:"link3",children:(0,m.jsx)(N,{programId:d.id,programDetails:d})}):null,(0,m.jsx)("div",{className:4===E?"block":"hidden",id:"link3",children:(0,m.jsx)(k,{programId:d.id,programDetails:d})}),(0,m.jsx)("div",{className:5===E?"block":"hidden",id:"link3",children:(0,m.jsx)(D,{programId:d.id,programDetails:d})}),(0,m.jsx)("div",{className:6===E?"block":"hidden",id:"link3",children:(0,m.jsx)(C,{programId:d.id,programDetails:d})})]})})})]})})})};function E(e){let{peoplelist:t,questionList:s,id:a,batchData:r,schedulePop:l,setSchedulePop:c,next:n,previous:o,pgindex:i,page:d,totalCount:x,setRefresher:h,setLimit:u,setPage:p,setSearch:g,templateList:f,getOneBatch:y}=e;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(B,{peoplelist:t,id:a,batchData:r,questionList:s,schedulePop:l,setSchedulePop:c,next:n,previous:o,pgindex:i,page:d,totalCount:x,setLimit:u,setPage:p,templateList:f,setSearch:g,setRefresher:h,getOneBatch:y})})}var P=s(6526);const A=function(e){let{id:t,setBatchListPop:s,batchData:r,schedulePop:l,setSchedulePop:c,getOneBatch:n}=e;const[o,i]=(0,a.useState)([]),[d,x]=(0,a.useState)([]),[h,u]=(0,a.useState)(""),[g,f]=(0,a.useState)(5),[y,j]=(0,a.useState)(0),[b,N]=(0,a.useState)(),[v,w]=(0,a.useState)(null),{userData:k,signOut:S}=(0,p.aC)(),[T,D]=(0,a.useState)(null),[C,B]=(0,a.useState)([]);(0,a.useEffect)((()=>{null!==t&&((async()=>{const e={Id:t};var s;let a=new URLSearchParams(Object.entries(e)).toString();s=await fetch("".concat("http://localhost:8000","/api/Teams/getAllUserInTranieeTeam/%7Bid%7D?filter=%7B%22limit%22%3A").concat(g,",%22start%22%3A").concat(y,",%22search%22%3A%22").concat(h,"%22%7D&access_token=").concat(null===k||void 0===k?void 0:k.accessToken),{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:a});const r=await s.json();if(!s.ok){const e=r&&(null===r||void 0===r?void 0:r.message)||s.statusText;return Promise.reject(e)}console.log(r),404===r.code?console.error(r.msg):i(r.data)})(),A(),M())}),[t,r,h,g,y,T]);const A=()=>{fetch("".concat("http://localhost:8000","/api/FormBatchquestions/list?filter=%7B%22limit%22%3A").concat(g,",%22start%22%3A").concat(y,",%22search%22%3A%22").concat(h,"%22%7D&access_token=").concat(null===k||void 0===k?void 0:k.accessToken)).then((async e=>{const t=await e.json();if(!e.ok){const s=t&&t.message||e.statusText;return Promise.reject(s)}x(t.data.list),N(t.data.totalCount)})).catch((e=>{x([]),console.error("There was an error!",e),"Token Expired"===e&&S()}))},M=()=>{fetch("".concat("http://localhost:8000","/api/templateQuestions/listofTranieeBatchTemplate?filter=%7B%22limit%22%3A2000000,%22start%22%3A%22%22,%22search%22%3A%22%22%7D&access_token=").concat(null===k||void 0===k?void 0:k.accessToken)).then((async e=>{const t=await e.json();if(!e.ok){const s=t&&t.message||e.statusText;return Promise.reject(s)}B(t.data.list),N(t.data.totalCount)})).catch((e=>{B([]),console.error("There was an error!",e),"Token Expired"===e&&S()}))},L=b,Y=L-5;return(0,m.jsxs)("div",{className:"flex w-full   bg-white rounded-md flex-col",children:[(0,m.jsx)(P.Z,{programId:s}),(0,m.jsxs)("div",{className:"w-full py-4",children:[(0,m.jsx)("span",{className:"flex cursor-pointer items-center justify-between px-5  text-2xl font-semibold text-gray-600   border-gray-200",children:(0,m.jsx)("p",{children:r.programName})}),(0,m.jsx)(E,{id:t,batchData:r,questionList:d,peoplelist:o,schedulePop:l,setSchedulePop:c,next:()=>{if(b%g==0){if(!(y<Y))return;j(y+1)}else{if(!(y<L))return;j(y+1)}},previous:()=>{y<=0||j(y-1)},pgindex:Y,page:y,totalCount:b,setLimit:f,setPage:j,setSearch:u,setRefresher:D,templateList:C,getOneBatch:n})]})]})}},38487:(e,t,s)=>{s.d(t,{Z:()=>l});var a=s(64802),r=s(34045);class l{static exportToXlsx(e,t){const s={Sheets:{data:r.P6.json_to_sheet(e)},SheetNames:["data"]},l=r.cW(s,{bookType:"xlsx",type:"array"}),c=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});a.saveAs(c,t+".xlsx")}static exportAoaToXlsx(e,t){const s=r.P6.aoa_to_sheet(e),l=r.P6.book_new();r.P6.book_append_sheet(l,s,"Sheet1");const c=r.cW(l,{bookType:"xlsx",type:"array"}),n=new Blob([c],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});a.saveAs(n,t+".xlsx")}}}}]);
//# sourceMappingURL=4271.181b0bb0.chunk.js.map