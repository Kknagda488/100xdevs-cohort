(self.webpackChunktms_frontend=self.webpackChunktms_frontend||[]).push([[7171],{67435:e=>{e.exports={EMAIL_SUFFIX:"@wagonslearning.com"}},67171:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>c});var l=a(72791),r=a(29655),n=a(67435),t=a(78820),i=a(16871),d=a(58241),o=a(80184);const c=function(){const{programId:e}=(0,i.UO)(),{userData:s}=(0,d.aC)(),[a,c]=(0,l.useState)(""),[m,x]=(0,l.useState)(!1),[u,g]=(0,l.useState)(null),[h,p]=(0,l.useState)(!1),[f,j]=(0,l.useState)(!1),[b,y]=(0,l.useState)(""),[v,N]=(0,l.useState)({programId:e,firstName:"",lastName:"",email:"",city:"",pincode:"",managerName:"",managerEmail:""});(0,l.useEffect)((()=>{N((s=>({...s,programId:e})))}),[e]);const w=e=>{N((s=>({...s,[e.target.name]:e.target.value})))};return(0,o.jsxs)("div",{className:" bg-white",children:[(0,o.jsxs)("div",{className:"block sm:flex justify-between items-center",style:{maxWidth:"700px",margin:"40px auto"},children:[(0,o.jsx)("img",{src:"/LSS Logo.png",className:"sm:mx-0 mx-auto",style:{height:"5.5rem"}}),(0,o.jsx)("img",{src:"/IDFC-logo-website.jpg",className:"sm:mx-0 mx-auto",style:{height:"80px"}})]}),(0,o.jsx)("div",{className:"flex justify-center",style:{paddingBottom:"260px",maxWidth:"700px",margin:"0 auto"},children:(0,o.jsxs)("div",{children:[m||f?null:(0,o.jsx)("div",{style:{marginTop:"-20px"},children:(0,o.jsx)("div",{className:"flex items-center justify-center p-5",children:(0,o.jsxs)("div",{className:"rounded overflow-hidden shadow-lg p-5 bg-[white] ",children:[(0,o.jsx)("h1",{className:"text-xl text-700",children:"Nominee Registration"}),(0,o.jsx)("br",{}),(0,o.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{p(!0);let a={...v};a.email=a.email.trim()+n.EMAIL_SUFFIX,a.managerEmail=a.managerEmail.trim()+n.EMAIL_SUFFIX;const l=new URLSearchParams(Object.entries(a)).toString(),t=await fetch("".concat("http://localhost:8000","/api/nominees/register?access_token=").concat(null===s||void 0===s?void 0:s.accessToken),{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:l}),i=await t.json();if(!t.ok){const e=i&&i.msg||t.statusText;return r.Am.error(e)}if("failure"===i.status){if(409==i.code)return j(!0),void y(null===i||void 0===i?void 0:i.msg);r.Am.error(null===i||void 0===i?void 0:i.msg)}else r.Am.success("Register successful."),e.target.reset(),x(!0)}catch(a){console.log(a)}finally{p(!1)}},children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2  gap-1",children:[(0,o.jsx)("input",{name:"programId",type:"hidden",defaultValue:e}),(0,o.jsxs)("div",{className:"w-full px-2",children:[(0,o.jsx)("label",{className:"leading-loose",children:"First name*"}),(0,o.jsx)("input",{name:"firstName",className:"px-4 bg-white py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide first name",value:v.firstName,onChange:w,required:!0})]}),(0,o.jsxs)("div",{className:"w-full px-2",children:[(0,o.jsx)("label",{className:"leading-loose",children:"Last name*"}),(0,o.jsx)("input",{name:"lastName",className:"px-4 bg-white py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide last name",value:v.lastName,onChange:w,required:!0})]}),(0,o.jsxs)("div",{className:"w-full md:col-span-2  px-2",children:[(0,o.jsx)("label",{className:"leading-loose",children:"Email*"}),(0,o.jsxs)("div",{className:"flex flex-wrap items-stretch w-full relative",children:[(0,o.jsx)("input",{type:"text",name:"email",className:"flex-shrink flex-grow flex-auto leading-normal w-px flex-1 border h-10 border-grey-light rounded outline-none rounded-r-none px-3 relative",placeholder:"Email",value:v.email,onChange:w,required:!0}),(0,o.jsx)("div",{className:"flex -mr-px",children:(0,o.jsx)("span",{className:"flex items-center leading-normal bg-grey-lighter rounded rounded-l-none border border-l-0 border-grey-light px-3 whitespace-no-wrap text-grey-dark text-sm",children:n.EMAIL_SUFFIX})})]})]}),(0,o.jsxs)("div",{className:"w-full px-2",children:[(0,o.jsx)("label",{className:"leading-loose",children:"City*"}),(0,o.jsx)("input",{name:"city",className:"px-4 bg-white py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide city",value:v.city,onChange:w,required:!0})]}),(0,o.jsxs)("div",{className:"w-full px-2",children:[(0,o.jsx)("label",{className:"leading-loose",children:"Pincode*"}),(0,o.jsx)("input",{type:"number",name:"pincode",value:v.pincode,onChange:w,className:"px-4 bg-white py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide pincode",required:!0})]}),(0,o.jsxs)("div",{className:"w-full   px-2",children:[(0,o.jsx)("label",{className:"leading-loose",children:"Manager name*"}),(0,o.jsx)("input",{name:"managerName",value:v.managerName,onChange:w,className:"px-4 bg-white py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide manager name",required:!0})]}),(0,o.jsxs)("div",{className:"w-full   px-2",children:[(0,o.jsx)("label",{className:"leading-loose",children:"Manager email*"}),(0,o.jsxs)("div",{className:"flex flex-wrap items-stretch w-full mb-4 relative",children:[(0,o.jsx)("input",{type:"text",name:"managerEmail",value:v.managerEmail,onChange:w,className:"flex-shrink flex-grow flex-auto leading-normal w-px flex-1 border h-10 border-grey-light rounded outline-none rounded-r-none px-3 relative",placeholder:"Manager email",required:!0}),(0,o.jsx)("div",{className:"flex -mr-px",children:(0,o.jsx)("span",{className:"flex items-center leading-normal bg-grey-lighter rounded rounded-l-none border border-l-0 border-grey-light px-3 whitespace-no-wrap text-grey-dark text-sm",children:n.EMAIL_SUFFIX})})]})]})]}),(0,o.jsxs)("div",{className:" text-red-500 text-xs mt-1 px-2",children:["Note: Please provide text before @ in a email field. eg. John.doe instead of John.doe",n.EMAIL_SUFFIX]}),(0,o.jsx)("div",{className:"py-4 px-2 space-x-4",children:(0,o.jsx)("button",{type:"submit",disabled:h,className:"bg-[#9d1d27] flex-inline justify-center items-center text-white px-4 py-2 rounded-md focus:outline-none",children:"Register"})})]})]})})}),m&&(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"flex items-center justify-center",children:(0,o.jsx)("div",{className:"rounded overflow-hidden shadow-lg bg-[white] p-5 ",children:(0,o.jsxs)("div",{className:"flex flex-col items-center space-y-2 ",children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"text-green-600 w-28 h-28",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,o.jsx)("h2",{className:"text-xl text-center font-bold",children:"Registration completed successfully!"}),(0,o.jsx)("br",{})]})})})}),f?(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"flex items-center justify-center",children:(0,o.jsx)("div",{className:"rounded overflow-hidden shadow-lg bg-[white] p-5 ",children:(0,o.jsxs)("div",{className:"flex flex-col items-center space-y-3 ",children:[(0,o.jsx)(t.SV5,{size:100,color:"#b21c29"}),(0,o.jsx)("h2",{className:"text-lg text-center font-bold",children:b}),(0,o.jsx)("br",{})]})})})}):null]})}),(0,o.jsx)("div",{})]})}}}]);
//# sourceMappingURL=7171.bdd3bcae.chunk.js.map