"use strict";(self.webpackChunktms_frontend=self.webpackChunktms_frontend||[]).push([[6803],{56803:(e,s,n)=>{n.r(s),n.d(s,{default:()=>U});var t=n(43504),r=n(13967),i=n(95193),a=n(61889),o=n(36314),l=n(20890);const c=(0,n(66934).ZP)("div")((e=>{let{theme:s}=e;return{backgroundColor:s.palette.primary.light,minHeight:"100vh"}}));var d=n(16029),m=n(66583),h=n(80184);const x=e=>{let{children:s,...n}=e;return(0,h.jsx)(m.Z,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,...n,children:(0,h.jsx)(d.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:s})})};var u=n(72791),j=n(68096),p=n(94925),g=n(77196),Z=n(47071),f=n(63466),w=n(13400),b=n(94294),y=n(8007),P=n(55705);const v=()=>{const e=(0,u.useRef)(!0);return(0,u.useEffect)((()=>()=>{e.current=!1}),[]),e};n(10988),n(5462);var C=n(3746),S=n(20165),k=n(29655),I=n(16871),B=n(58241);const E=e=>{let{...s}=e;const n=(0,r.Z)(),[t,i]=(v(),(0,u.useState)(!0)),o=(0,I.s0)(),{storeUserDataInLs:c}=(0,B.aC)(),[m,x]=(0,u.useState)(!1),E=()=>{x(!m)},A=e=>{e.preventDefault()};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(a.ZP,{container:!0,direction:"column",justifyContent:"center",spacing:2,children:(0,h.jsx)(a.ZP,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"center",children:(0,h.jsx)(d.Z,{sx:{mb:2},children:(0,h.jsx)(l.Z,{variant:"subtitle1",children:"Sign in with Email address"})})})}),(0,h.jsx)(P.J9,{initialValues:{email:"john@test.com",password:"123456",submit:null},validationSchema:y.Ry().shape({email:y.Z_().email("Must be a valid email").max(255).required("Email is required"),password:y.Z_().max(255).required("Password is required")}),onSubmit:async(e,s)=>{let{setErrors:n,setStatus:t,setSubmitting:r}=s;try{const s=await fetch("".concat("http://localhost:8000","/api/Users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password,domain:"localhost"})}),n=await s.json();s.ok?n.data&&(console.log("inside iff================"),c(n.data),k.Am.success("Login Successfully"),console.log("Login successful:",n),o("/dashboard"),t({success:!0}),r(!1)):(console.error("There was an error!",n.msg),k.Am.error(n.msg),t({success:!0}),r(!1))}catch(i){console.error("Login error:",i.message),t({success:!1}),n({submit:i.message}),r(!1)}},children:e=>{let{errors:t,handleBlur:r,handleChange:i,handleSubmit:a,isSubmitting:o,touched:l,values:c}=e;return(0,h.jsxs)("form",{noValidate:!0,onSubmit:a,...s,children:[(0,h.jsxs)(j.Z,{fullWidth:!0,error:Boolean(l.email&&t.email),sx:{...n.typography.customInput},children:[(0,h.jsx)(p.Z,{htmlFor:"outlined-adornment-email-login",children:"Email Address / Username"}),(0,h.jsx)(g.Z,{id:"outlined-adornment-email-login",type:"email",value:c.email,name:"email",onBlur:r,onChange:i,label:"Email Address / Username",inputProps:{}}),l.email&&t.email&&(0,h.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:t.email})]}),(0,h.jsxs)(j.Z,{fullWidth:!0,error:Boolean(l.password&&t.password),sx:{...n.typography.customInput},children:[(0,h.jsx)(p.Z,{htmlFor:"outlined-adornment-password-login",children:"Password"}),(0,h.jsx)(g.Z,{id:"outlined-adornment-password-login",type:m?"text":"password",value:c.password,name:"password",onBlur:r,onChange:i,endAdornment:(0,h.jsx)(f.Z,{position:"end",children:(0,h.jsx)(w.Z,{"aria-label":"toggle password visibility",onClick:E,onMouseDown:A,edge:"end",size:"large",children:m?(0,h.jsx)(C.Z,{}):(0,h.jsx)(S.Z,{})})}),label:"Password",inputProps:{}}),l.password&&t.password&&(0,h.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:t.password})]}),t.submit&&(0,h.jsx)(d.Z,{sx:{mt:3},children:(0,h.jsx)(Z.Z,{error:!0,children:t.submit})}),(0,h.jsx)(d.Z,{sx:{mt:2},children:(0,h.jsx)(b.Z,{disableElevation:!0,fullWidth:!0,size:"large",type:"submit",style:{backgroundColor:n.palette.secondary.main,color:n.palette.info.contrastText},children:"Sign in"})})]})}})]})};var A=n(64627);const U=()=>{const e=(0,r.Z)(),s=(0,i.Z)(e.breakpoints.down("md"));return(0,h.jsx)(c,{children:(0,h.jsxs)(a.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[(0,h.jsx)(a.ZP,{item:!0,xs:12,children:(0,h.jsx)(a.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,h.jsx)(a.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,h.jsx)(x,{children:(0,h.jsxs)(a.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,h.jsx)(a.ZP,{item:!0,sx:{mb:3},children:(0,h.jsx)(t.rU,{to:"#",children:(0,h.jsx)(A.Z,{})})}),(0,h.jsx)(a.ZP,{item:!0,xs:12,children:(0,h.jsx)(a.ZP,{container:!0,direction:s?"column-reverse":"row",alignItems:"center",justifyContent:"center",children:(0,h.jsx)(a.ZP,{item:!0,children:(0,h.jsxs)(o.Z,{alignItems:"center",justifyContent:"center",spacing:1,children:[(0,h.jsx)(l.Z,{color:e.palette.secondary.main,gutterBottom:!0,variant:s?"h3":"h2",children:"Hi, Welcome Back"}),(0,h.jsx)(l.Z,{variant:"caption",fontSize:"16px",textAlign:s?"center":"inherit",children:"Enter your credentials to continue"})]})})})}),(0,h.jsx)(a.ZP,{item:!0,xs:12,children:(0,h.jsx)(E,{})}),(0,h.jsx)(a.ZP,{item:!0,xs:12,children:(0,h.jsx)(a.ZP,{item:!0,container:!0,direction:"column",alignItems:"center",xs:12})})]})})})})}),(0,h.jsx)(a.ZP,{item:!0,xs:12,sx:{m:3,mt:1}})]})})}}}]);
//# sourceMappingURL=6803.8cb66e19.chunk.js.map