"use strict";(self.webpackChunktms_frontend=self.webpackChunktms_frontend||[]).push([[4153],{44153:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var t=a(72791),l=a(16871),n=a(29655),r=a(58241),i=a(80184);const o=function(){const e=(0,l.TH)(),s=new URLSearchParams(e.search),{userData:a}=(0,r.aC)(),o=s.get("programType"),{batchId:c}=(0,l.UO)(),[d,m]=(0,t.useState)(""),[u,x]=(0,t.useState)(!1),[f,h]=(0,t.useState)(null);return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"flex justify-center my-5",children:(0,i.jsxs)("div",{className:"flex mb-4 sm:flex-row flex-col sm:w-full w-[50]  items-center justify-center sm:justify-around px-10",children:["1"==o?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("img",{className:"h-auto sm:mb-0 mb-2",style:{width:"12rem"},src:"/LSS Logo.png"})}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("img",{className:"h-auto sm:mb-0 mb-2",style:{width:"5rem"},src:"/Retail Pro Logo.png"})}),(0,i.jsx)("img",{className:"w-40 h-auto sm:mb-0 mb-3 mt-2 sm:mt-0",src:"../IDFC-logo-website.jpg"})]})}),(0,i.jsx)("div",{style:{paddingBottom:"200px"},className:"flex justify-center",children:(0,i.jsx)("div",{className:"flex items-center justify-center p-5",children:(0,i.jsxs)("div",{className:"rounded overflow-hidden shadow-lg p-5 bg-[white] ",children:[(0,i.jsx)("h1",{className:"text-xl text-700",children:"Attendence Form"}),(0,i.jsx)("br",{}),(0,i.jsx)("form",{onSubmit:async e=>{h(null),e.preventDefault();try{const e=encodeURIComponent(JSON.stringify({email:d,batchId:c})),s=await fetch("".concat("http://localhost:8000","/api/nominees/getByEmail?filter=").concat(e,"&access_token=").concat(null===a||void 0===a?void 0:a.accessToken)),t=await s.json();if(!Object.keys(t.data).length)throw Error("Employee not found");console.log(t,"fetchEmployeeDetails"),h({email:t.data.email,name:t.data.firstName+" "+t.data.lastName})}catch(s){n.Am.error(null===s||void 0===s?void 0:s.message)}},children:(0,i.jsxs)("div",{className:"w-100 flex flex-wrap",children:[(0,i.jsxs)("div",{className:"px-2",children:[(0,i.jsx)("label",{className:"leading-loose",children:"Email"}),(0,i.jsx)("input",{type:"email",name:"email",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide Email",required:!0,value:d,onChange:e=>m(e.target.value)})]}),(0,i.jsx)("div",{className:"py-1 mt-7 space-x-4",children:(0,i.jsx)("button",{type:"submit",className:"bg-[#9d1d27] flex-inline justify-center items-center text-white px-4 py-1 rounded-md focus:outline-none",children:"Find"})})]})}),(0,i.jsxs)("form",{onSubmit:async e=>{if(x(!0),e.preventDefault(),f)try{let s=new URLSearchParams({email:f.email,batchId:c}).toString();const t=await fetch("".concat("http://localhost:8000","/api/batchAttendences/addAttendence?access_token=").concat(null===a||void 0===a?void 0:a.accessToken),{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:s}),l=await t.json();if("failure"===l.status)return n.Am.error(l.msg);n.Am.success("Attendence submitted successful."),e.target.reset(),m(""),h(null)}catch(s){console.log(s)}finally{x(!1)}else n.Am.error("Employee not found")},children:[(0,i.jsxs)("div",{className:"px-2",children:[(0,i.jsx)("label",{className:"leading-loose",children:"Full name"}),(0,i.jsx)("input",{name:"fullName",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide full name",required:!0,disabled:!0,defaultValue:null===f||void 0===f?void 0:f.name})]}),(0,i.jsxs)("div",{className:"px-2",children:[(0,i.jsx)("label",{className:"leading-loose",children:"Email"}),(0,i.jsx)("input",{name:"email",className:"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-full sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600",placeholder:"Provide email",required:!0,disabled:!0,defaultValue:null===f||void 0===f?void 0:f.email})]}),(0,i.jsx)("div",{className:"py-4  space-x-4 px-2",children:(0,i.jsx)("button",{type:"submit",className:"bg-[#9d1d27] flex-inline justify-center items-center text-white px-4 py-2 rounded-md focus:outline-none",disabled:u,children:"Submit"})})]})]})})})]})}}}]);
//# sourceMappingURL=4153.706e473a.chunk.js.map