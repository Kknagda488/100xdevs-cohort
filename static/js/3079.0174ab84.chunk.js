"use strict";(self.webpackChunktms_frontend=self.webpackChunktms_frontend||[]).push([[3079],{63079:(e,t,l)=>{l.r(t),l.d(t,{default:()=>d});var n=l(72791),s=l(29655),o=(l(5462),l(54261)),r=l(78820),i=l(80184);const a=function(e){let{setResult:t}=e;const[l,s]=(0,n.useState)([{id:(0,o.Z)(),question:"",questionType:"mcq",point:"",answers:["",""],correctAnswer:""}]),[a,c]=(0,n.useState)([]);var d={id:(0,o.Z)(),question:"",questionType:"mcq",point:"",answers:["",""],correctAnswer:""};console.log(l,"jkdj");const[u,p]=(0,n.useState)();console.log(l,"oiuy");const x=()=>(0,i.jsx)("ul",{className:"flex flex-col w-full my-6 ",children:(0,i.jsx)("div",{className:"w-full  px-4 mx-auto mt-3",children:(0,i.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-100 border-0",children:[(0,i.jsx)("div",{className:"rounded-t bg-white mb-0 px-6 py-6",children:(0,i.jsx)("h6",{className:"text-gray-700 w-full text-xl font-bold  ",children:"Add Quetions in QuestionBank"})}),(0,i.jsx)("div",{className:"flex-auto px-4 lg:px-10 py-10 pt-0 bg-violet-200",children:(0,i.jsxs)("div",{children:[null===l||void 0===l?void 0:l.map(((e,t)=>{var n,a,c;return(0,i.jsxs)("div",{className:"my-4 border-b-2 pb-2 border-sky-500 ",children:[(0,i.jsxs)("div",{className:"text-center flex justify-between items-center",children:[(0,i.jsxs)("h6",{className:"text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase",children:["Question #",t+1]}),(0,i.jsxs)("button",{className:"bg-sky-500 text-white active:bg-sky-600 h-fit font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",type:"button",onClick:()=>(e=>{var t;if(l.map((l=>(l.id===e&&(t=!0),l))),t){const t=l.findIndex((t=>t.id===e));let n=[...l];t>=0?(n[t],n.splice(t,1)):console.warn("Cannot remove : ".concat(e)),s(n)}})(e.id),children:["Remove Question #",t+1]})]}),(0,i.jsxs)("div",{className:"flex flex-wrap",children:[(0,i.jsx)("div",{className:"w-full lg:w-12/12 px-4",children:(0,i.jsxs)("div",{className:"relative w-full mb-3",children:[(0,i.jsx)("label",{className:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Question"}),(0,i.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",name:"question",placeholder:"Question",defaultValue:e.question,onBlur:t=>{e.question=t.target.value}})]})}),(0,i.jsx)("div",{className:"w-full lg:w-1/2 px-4",children:(0,i.jsxs)("div",{className:"relative w-full mb-3",children:[(0,i.jsx)("label",{className:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Question Type"}),(0,i.jsxs)("select",{className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",required:"required",name:"questionType",defaultValue:e.type,onChange:t=>{e.questionType=t.target.value,"multiopt"==e.questionType?e.correctAnswer=[]:e.correctAnswer="",e.answers=["",""],s([...l])},children:[(0,i.jsxs)("option",{value:e.questionType,selected:!0,hidden:!0,children:["mcq"==(null===e||void 0===e?void 0:e.questionType)?"Multiple Choice":null," ","fib"==(null===e||void 0===e?void 0:e.questionType)?"Fill in the Blanks":null," ","tf"==(null===e||void 0===e?void 0:e.questionType)?"True or False":null," ","multiopt"==(null===e||void 0===e?void 0:e.questionType)?"Multi-Option":null," ","response"==(null===e||void 0===e?void 0:e.questionType)?"Response":null," ","text"==(null===e||void 0===e?void 0:e.questionType)?"Select a Type":null]}),(0,i.jsx)("option",{value:"mcq",children:"Multiple Choice"}),(0,i.jsx)("option",{value:"fib",children:"Fill in the Blanks"}),(0,i.jsx)("option",{value:"tf",children:"True or False"}),(0,i.jsx)("option",{value:"multiopt",children:"Multi-Option"}),(0,i.jsx)("option",{value:"response",children:"Response"})]})]})}),(0,i.jsx)("div",{className:"w-full lg:w-1/2 px-4",children:(0,i.jsxs)("div",{className:"relative w-full mb-3",children:[(0,i.jsx)("label",{className:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Points"}),(0,i.jsx)("input",{id:"input-hide",type:"number",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",name:"points",placeholder:"Points",defaultValue:e.point,onWheel:e=>e.target.blur(),onBlur:t=>e.point=t.target.value,required:!0})]})})]}),(0,i.jsx)("hr",{className:"mt-6 border-b-1 border-blueGray-300"}),(0,i.jsx)("h6",{className:"text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase",children:"Answer Information"}),"response"!==(null===e||void 0===e?void 0:e.questionType)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:"bg-sky-500 text-white active:bg-sky-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",type:"button",onClick:()=>(e=>{const t=l.findIndex((t=>t.id===e));let n=[...l];t>=0?n[t].answers.push(""):console.warn("Cannot remove : ".concat(e)),s(n)})(e.id),children:"Add Option"}),(0,i.jsxs)("div",{className:"flex  flex-wrap",children:[(0,i.jsx)("div",{className:"w-full flex flex-col lg:w-6/12 px-4",children:null===e||void 0===e||null===(n=e.answers)||void 0===n?void 0:n.map(((t,n)=>(0,i.jsxs)("div",{className:"relative w-full mb-3",children:[(0,i.jsxs)("label",{className:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:["Option ",n+1]}),(0,i.jsxs)("div",{className:"flex ",children:[(0,i.jsx)("input",{type:"text",required:!0,defaultValue:t,placeholder:"Option ".concat(n+1),className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",onBlur:t=>e.answers[n]=t.target.value}),(0,i.jsxs)("button",{type:"button",title:"Remove Option",className:"flex items-center text-red-500 text-md ",onClick:()=>{((e,t)=>{const n=l.findIndex((t=>t.id===e)),o=l[n].answers.findIndex((e=>e===t));let r=[...l];n>=0?r[n].answers.splice(o,1):console.warn("Cannot remove : ".concat(e));s(r)})(e.id,t)},children:[(0,i.jsx)(r.YK6,{className:"text-xl"})," #",n+1]})]})]},(0,o.Z)())))}),(0,i.jsx)("div",{className:"w-full lg:w-6/12 px-4",children:(0,i.jsxs)("div",{className:"relative w-full mb-3",children:[(0,i.jsx)("label",{className:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Correct Option"}),"multiopt"==e.questionType?(0,i.jsx)("div",{className:"bg-white flex flex-col px-3 py-1 h-full",children:null===e||void 0===e||null===(a=e.answers)||void 0===a?void 0:a.map(((t,l)=>(0,i.jsxs)("div",{className:"form-check  ",children:[(0,i.jsx)("input",{checked:e.correctAnswer.find((e=>e===l+1)),className:" h-4 w-4 text-blue-400 bg-white rounded  bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer focus:outline-none transition duration-200 mt-1 align-top",type:"checkbox",value:"".concat(l+1),onChange:t=>{const l=e.correctAnswer.indexOf(t.target.value);l>-1?e.correctAnswer.splice(l,1):e.correctAnswer.push(parseInt(t.target.value))},name:"option#".concat(l+1),id:"option#".concat(l+1)}),(0,i.jsx)("label",{className:"form-check-label inline-block  text-gray-700 font-semibold ",children:"Option #".concat(l+1)})]},(0,o.Z)())))}):(0,i.jsxs)("select",{className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",required:"required",name:"correctOption",onBlur:t=>e.correctAnswer=t.target.value,children:[(0,i.jsx)("option",{selected:!0,disabled:!0,hidden:!0,value:"",children:"Select Correct Option"}),null===e||void 0===e||null===(c=e.answers)||void 0===c?void 0:c.map(((t,l)=>(0,i.jsx)("option",{selected:l+1==parseInt(e.correctAnswer)?"selected":null,value:"".concat(l+1),children:"option #".concat(l+1)},(0,o.Z)())))]})]})})]})]}):(0,i.jsx)("div",{className:"w-full lg:w-12/12 px-4",children:(0,i.jsxs)("div",{className:"relative w-full mb-3",children:[(0,i.jsx)("label",{className:"block uppercase text-blueGray-600 text-xs font-bold mb-2",htmlFor:"grid-password",children:"Correct Answer"}),(0,i.jsx)("input",{type:"text",className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",name:"correctOption",placeholder:"Enter correct answer",defaultValue:e.correctAnswer,onBlur:t=>e.correctAnswer=t.target.value})]})}),(0,i.jsx)("hr",{className:"mt-6 border-b-1 border-blueGray-300"})]},t)})),(0,i.jsxs)("div",{className:"flex w-full justify-between items-center",children:[(0,i.jsxs)("button",{className:"bg-sky-500  text-white active:bg-sky-600 font-semibold  text-sm px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",type:"button",onClick:()=>s([...l,d]),children:["Add Question #",l.length+1]}),0==l.length?null:(0,i.jsx)("button",{className:"bg-sky-500 text-white active:bg-sky-600 font-semibold  text-sm px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",type:"submit",onClick:()=>t(l),children:"Submit & Save"})]})]})})]})})});return(0,i.jsx)("div",{className:"flex flex-col",children:(0,i.jsx)(x,{})})};var c=l(58241);const d=function(){const{userData:e}=(0,c.aC)(),[t,l]=(0,n.useState)(!1),r=async t=>{const n={name:t.question,type:t.questionType,isRequired:1,options:JSON.stringify(t.answers),questionBunch:JSON.stringify(t)};var o;console.log(n);let r=new URLSearchParams(Object.entries(n)).toString();console.log(r),o=await fetch("".concat("http://localhost:8000","/api/FormBatchquestions/add?access_token=").concat(null===e||void 0===e?void 0:e.accessToken),{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:r});const i=await o.json();var a;(console.log(i),o.ok)?(console.log(i),404===i.code?s.Am.error(i.msg):(l(!0),s.Am.success("Question Added Succesfully !!"),window.close())):(console.log("er"),s.Am.error(null===i||void 0===i||null===(a=i.error)||void 0===a?void 0:a.message))};return(0,i.jsx)("div",{className:"flex flex-col w-full mt-10",children:(0,i.jsx)(a,{setResult:e=>{var t=e,l=[];t.map((e=>{if("response"!==e.questionType)Object.keys(e).filter((t=>{if(""===e[t]||void 0===e[t]||null===e[t])return l.push(t)})),e.answers.filter(((e,t)=>{if(""===e||void 0===e||null===e){var n="option".concat(t+1);return l.push({[n]:e})}}));else{var t={id:e.id,question:e.question,questionType:e.questionType,point:e.point};Object.keys(t).filter((e=>{if(""===t[e]||void 0===t[e]||null===t[e])return l.push(e)}))}}));console.log(l,"opiuy"),0!==l.length?s.Am.error("Fill up the required fields"):t.forEach((e=>{var t={...e,id:(0,o.Z)()};return r(t),e}))}})})}},54261:(e,t,l)=>{l.d(t,{Z:()=>c});const n={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let s;const o=new Uint8Array(16);function r(){if(!s&&(s="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(o)}const i=[];for(let d=0;d<256;++d)i.push((d+256).toString(16).slice(1));function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}const c=function(e,t,l){if(n.randomUUID&&!t&&!e)return n.randomUUID();const s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){l=l||0;for(let e=0;e<16;++e)t[l+e]=s[e];return t}return a(s)}}}]);
//# sourceMappingURL=3079.0174ab84.chunk.js.map